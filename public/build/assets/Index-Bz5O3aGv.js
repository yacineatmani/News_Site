import{j as e,L as o,$ as i,S as d}from"./app-CwlvKQfy.js";import{A as m}from"./app-layout-D8mSbhfU.js";import"./app-logo-icon-CUglqbSk.js";import"./index-C7oVH_Ux.js";import"./index-DZwVK2df.js";import"./ThemeToggle-CGnQ3XP8.js";const g=[{title:"Dashboard",href:"/dashboard"},{title:"Gestion des utilisateurs",href:"/admin/users"}];function j({users:r,roles:s}){const n=(t,a)=>{d.patch(route("admin.users.change-role",t),{role:a})},l=t=>{d.patch(route("admin.users.toggle-newsletter",t))},x=(t,a)=>{confirm(`Êtes-vous sûr de vouloir supprimer l'utilisateur "${a}" ?`)&&d.delete(route("admin.users.destroy",t))},c=t=>{switch(t){case"admin":return"bg-red-100 text-red-800";case"webmaster":return"bg-blue-100 text-blue-800";case"auteur":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(m,{breadcrumbs:g,children:[e.jsx(o,{title:"Gestion des utilisateurs"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Gestion des Utilisateurs (",(r==null?void 0:r.total)||0,")"]}),e.jsx(i,{href:route("admin.users.create"),className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition",children:"+ Nouvel utilisateur"})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-sm overflow-hidden",children:r&&r.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Utilisateur"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Rôle"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Newsletter"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Inscription"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:r.data.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.name}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("select",{value:t.role,onChange:a=>n(t.id,a.target.value),className:`text-xs font-semibold rounded-full px-3 py-1 border-0 cursor-pointer ${c(t.role)}`,children:s==null?void 0:s.map(a=>e.jsx("option",{value:a,children:a},a))})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>l(t.id),className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full transition cursor-pointer ${t.newsletter_subscribed?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:t.newsletter_subscribed?"✅ Abonné":"❌ Non abonné"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(t.created_at).toLocaleDateString("fr-FR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(i,{href:route("admin.users.edit",t.id),className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs hover:bg-blue-200 transition",children:"✏️ Modifier"}),e.jsx("button",{onClick:()=>x(t.id,t.name),className:"bg-red-100 text-red-800 px-3 py-1 rounded-full text-xs hover:bg-red-200 transition",children:"🗑️ Supprimer"})]})})]},t.id))})]})}),r.last_page>1&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.current_page>1&&e.jsx(i,{href:route("admin.users",{page:r.current_page-1}),className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Précédent"}),r.current_page<r.last_page&&e.jsx(i,{href:route("admin.users",{page:r.current_page+1}),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Suivant"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Affichage de"," ",e.jsx("span",{className:"font-medium",children:(r.current_page-1)*r.per_page+1})," ","à"," ",e.jsx("span",{className:"font-medium",children:Math.min(r.current_page*r.per_page,r.total)})," ","sur"," ",e.jsx("span",{className:"font-medium",children:r.total})," utilisateurs"]})}),e.jsx("div",{className:"flex space-x-2",children:Array.from({length:r.last_page},(t,a)=>a+1).map(t=>e.jsx(i,{href:route("admin.users",{page:t}),className:`px-3 py-1 rounded-md text-sm ${t===r.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:t},t))})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"👥"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Aucun utilisateur trouvé"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Commencez par créer votre premier utilisateur."}),e.jsx(i,{href:route("admin.users.create"),className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition",children:"+ Créer un utilisateur"})]})})]})]})}export{j as default};
