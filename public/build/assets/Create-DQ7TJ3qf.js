import{K as x,m as h,j as e,$ as u}from"./app-CwlvKQfy.js";import{A as p}from"./AppLayout-BBPJmVwY.js";import"./ThemeToggle-CGnQ3XP8.js";function f(){const{categories:i,tags:r}=x().props,{data:a,setData:l,post:n,errors:t,processing:d}=h({title:"",content:"",image:null,category_id:"",tags:[]});function c(s){s.preventDefault(),n(route("articles.store"),{forceFormData:!0})}return e.jsx(p,{children:e.jsxs("div",{className:"max-w-2xl mx-auto py-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Créer un article"}),e.jsxs("form",{onSubmit:c,className:"space-y-6 bg-white dark:bg-[#23263a] p-6 rounded shadow",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Titre"}),e.jsx("input",{type:"text",value:a.title,onChange:s=>l("title",s.target.value),placeholder:"Titre",className:"w-full border rounded px-3 py-2"}),t.title&&e.jsx("div",{className:"text-red-500 text-sm",children:t.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:s=>l("image",s.target.files?s.target.files[0]:null),className:"w-full border rounded px-3 py-2"}),t.image&&e.jsx("div",{className:"text-red-500 text-sm",children:t.image})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Contenu"}),e.jsx("textarea",{value:a.content,onChange:s=>l("content",s.target.value),placeholder:"Contenu",className:"w-full border rounded px-3 py-2 min-h-[120px]"}),t.content&&e.jsx("div",{className:"text-red-500 text-sm",children:t.content})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Catégorie"}),e.jsxs("select",{value:a.category_id,onChange:s=>l("category_id",s.target.value),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"Choisir une catégorie"}),i.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),t.category_id&&e.jsx("div",{className:"text-red-500 text-sm",children:t.category_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:r.map(s=>e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"checkbox",value:s.id,checked:a.tags.includes(s.id),onChange:o=>{o.target.checked?l("tags",[...a.tags,s.id]):l("tags",a.tags.filter(m=>m!==s.id))}}),e.jsx("span",{children:s.name})]},s.id))}),t.tags&&e.jsx("div",{className:"text-red-500 text-sm",children:t.tags})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{type:"submit",disabled:d,className:"bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700 transition",children:"Créer"}),e.jsx(u,{href:route("articles.index"),className:"text-indigo-600 hover:underline",children:"Retour à la liste"})]})]})]})})}export{f as default};
